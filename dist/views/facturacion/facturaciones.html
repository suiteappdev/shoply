<div ng-controller="FacturacionCtrl" ng-init="load()"> <div class="row"> <h3>Facturaci처n</h3> <p ng-show="rs">Factura de venta N째 {{rs.id || 'sin consecutivo'}}</p> <div class="panel panel-default" style="padding:0px"> <div class="panel-body"> <div class="row"> <div class="col-lg-6"> <div class="form-group"> <label>Producto</label> <producto-field key="_id" id="product_field" label="producto" set-focus="focuset" search-by="['idcomposed', 'refMixed', 'producto']" set-object="_productObj" ng-model="_product"> <producto-field> </producto-field></producto-field></div> </div> <div class="col-lg-6"> <div class="form-group"> <label>Cliente</label> <cliente-field ng-init="form._client = '57a148a070eb95b47c7dc718'" key="_id" label="full_name" ng-model="form._client"></cliente-field> </div> </div> </div> <div class="table-responsive"> <table class="table table-hover"> <thead> <th class="hidden">Codigo</th> <th>Producto</th> <th>Descripci처n</th> <th>Precio venta</th> <th>Unidades</th> <th>Descuento</th> <th>Total</th> <th></th> <th></th> </thead> <tbody> <tr ng-show="records.length == 0"><td class="text-center" colspan="8"><p><i style="top: 4px!important" class="glyphicon glyphicon-info-sign"></i>&nbsp; ningun producto pendiente para facturar</p></td></tr> <tr dir-paginate="record in records |filter:search |itemsPerPage: 5 " pagination-id="facturacionEntity"> <td class="hidden">{{record._id}}</td> <td>{{record.producto}}</td> <td>{{record.descripcion || 'no definido'}}</td> <td>{{record.precio_venta | currency:"$ "}}</td> <td><span ng-click="agregarCantidad()" class="label label-primary">{{record.cantidad}}</span></td> <td><span ng-click="agregarDescuento()" class="label label-primary">{{record.descuento ? (record.descuento + '%') : '0%'}}</span></td> <td>{{(record.total) | currency:"$ "}}</td> <td></td> <td class="text-right"><a ng-click="quitar()" class="custom-btn-tiny btn-block btn-danger"><i class="glyphicon glyphicon-trash"></i>Quitar</a></td> </tr> </tbody> </table> </div> <div class="row"> <div class="col-lg-12"> <dir-pagination-controls class="pull-right" pagination-id="facturacionEntity"></dir-pagination-controls> </div> </div> <div ng-show="records.length > 0" class="row" style="background-color:#080808"> <div class="col-lg-12"> <div class="col-lg-2"> <label class="text-white">Total IVA</label> <h4 class="no-margin" style="color:#009ddc;!important;top: -9px;position: relative">{{TotalIva | currency:"$ "}}</h4> </div> <div class="col-lg-2"> <label class="text-white">Subtotal</label> <h4 class="text-white no-margin" style="color: orange!important;top: -9px;position: relative">{{subTotal | currency:"$ "}}</h4> </div> <div class="col-lg-2"> <label class="text-white">Descuento</label> <h4 class="text-white no-margin" style="color: #ff00c6!important;top: -9px;position: relative">{{descuento || 0 | currency:"$ "}}</h4> </div> <div class="col-lg-2"> <label class="text-white">Total</label> <h4 class="no-margin" style="top: -9px;position: relative;color:#a8ffa8!important">{{total | currency:"$ "}}</h4> </div> <div class="col-lg-4"> <div class="row"> <button type="submit" ng-show="rs" style="margin-top:0px!important;line-height:40px" ng-click="facturar()" class="custom-btn custom-btn-primary btn-block"><i class="glyphicon glyphicon-eye-open"></i>&nbsp;Ver Pago</button> <button type="submit" ng-hide="rs" style="margin-top:0px!important;line-height:40px" ng-click="facturar()" class="custom-btn custom-btn-primary btn-block"><i class="glyphicon glyphicon-plus"></i>&nbsp;Facturar</button> </div> </div> </div> </div> </div> <div class="panel-footer">Listado de productos en facturaci처n</div> </div> </div> </div>