<div ng-init="load()"> <div class="content" ng-show="!records || records.length == 0"> <div class="table_wrap table_height"> <div class="row table-responsive table_inner"> <div class="controls" ng-show="records.length == 0 && Records"> <h4>No hay registros para mostrar</h4> </div> <p class="text-center" ng-show="!Records"> <img style="width:50px" src="images/loading.svg"> </p> </div> </div> </div> <div class="row" ng-show="records.length > 0"> <ul class="sp-list"> <li ng-click="$root.grid.value = record;" choice="$root.grid.selected" value="record._id" class="sp-list-item sp-choice" dir-paginate="record in records |filter:search |itemsPerPage: 5 "> <div class="sp-item-image"> <img ng-src="{{record._company.data.gallery[0].URL}}"> </div> <span class="sp-meta-right">Creado : {{record.createdAt | date:'yyyy-MM-dd'}}</span> <a class="trash" ng-click="delete()" href=""><i class="glyphicon glyphicon-trash"></i></a> <h4>{{record.data.ruta}}</h4> <p class="sp-text" style="top: -3px!important">Ciudad:&nbsp;{{record.data.ciudad.toLowerCase()}}&nbsp;&nbsp;</p> <p class="sp-text" style="top: -3px!important">Departamento:&nbsp;{{record.data.departamento.toLowerCase()}}&nbsp;&nbsp;</p> <p><span style="margin-right:5px" class="label label-success" ng-repeat="barrio in record.data.barrios"> {{barrio}}</span></p> <div class="row"> <div class="sp-footer"> </div> </div> </li> </ul> <h3 ng-hide="true">Rutas</h3> <div ng-hide="true" class="panel panel-default" style="padding:0px"> <div class="panel-body"> <div class="col-lg-12"> <div class="form-group pull-right"> <button class="custom-btn custom-btn-primary large-rounded" ng-click="agregar()"><i class="glyphicon glyphicon-plus"></i>&nbsp;Agregar</button> </div> </div> <div class="row"> <div class="col-lg-6"> <div class="input-group"> <input type="text" ng-model="search" class="form-control" placeholder="Buscar"> <span class="input-group-btn"> <button class="btn custom-btn-primary" type="button">Buscar</button> </span> </div> </div> </div> <div class="table-responsive"> <table class="table table-hover"> <thead> <th>Ruta.</th> <th>Departamento</th> <th>Ciudad</th> <th>Barrios</th> <th></th> <th></th> </thead> <tbody> <tr dir-paginate="record in records |filter:search |itemsPerPage: 5 " pagination-id="paginationRutas"> <td>{{record.data.ruta }}</td> <td>{{record.data.departamento || 'no definido' }}</td> <td>{{record.data.ciudad.toLowerCase() || 'no definido'}}</td> <td>{{record.data.barrios.join(', ') || 'no definido'}}</td> <td style="width:50px" class="text-right"><a ui-sref="dashboard.detalle_ruta({ruta: record._id})" class="custom-btn-tiny custom-btn-primary" href="#/detalle-ruta/{{record._id}}">Detalle</a></td> <td style="width:50px" class="text-right"><a class="custom-btn-tiny btn-primary" ng-click="edit()"><i class="glyphicon glyphicon-edit"></i>&nbsp;Editar</a></td> <td style="width:50px" class="text-right"><a ng-click="borrar()" class="custom-btn-tiny btn-danger"><i class="glyphicon glyphicon-trash">&nbsp;Borrar</i></a></td> </tr> </tbody> </table> </div> <div class="row"> <div class="col-lg-12"> <dir-pagination-controls class="pull-right" pagination-id="paginationRutas"></dir-pagination-controls> </div> </div> </div> <div class="panel-footer">Listado de rutas</div> </div> </div> </div>