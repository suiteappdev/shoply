<div ng-init="load()">
  <div class="content" ng-show="!records || records.length == 0">
    <div class="table_wrap table_height">
      <div class="row table-responsive table_inner">
          <div class="controls" ng-show="records.length == 0 && Records">
            <h4 >No hay registros para mostrar <a ng-click="agregar()" class="custom-btn custom-btn-primary">Crear registro</a></h4>
          </div>
          <p class="text-center" ng-show="!Records">
           <img style="width:50px;" src="images/loading.svg">
          </p>
      </div>
    </div>  
  </div>
	<div class="row" ng-show="records.length > 0">
    <ul class="sp-list"> 
      <li  ng-click="$root.grid.value = record;" choice="$root.grid.selected" value="record._id" class="sp-list-item sp-choice" dir-paginate="record in records |filter:search |itemsPerPage: 5 ">
        <div class="sp-item-image">
          <img preload-image ng-src="{{record.data.gallery[0].URL}}" default-image="images/missing-image.png" fallback-image="images/loading.svg">
        </div>
        <span class="sp-meta-right">Creado : {{record.createdAt | date:'yyyy-MM-dd'}}</span>
        <a class="trash" ng-click="delete()" href=""><i class="glyphicon glyphicon-trash"></i></a>
        <h4>{{record.text}}</h4>
        <p style="margin-bottom:4px;!important">{{record.data.descripcion}}</p>
        <span style="font-size: 12px;color: #8c8888;">Registrada en :&nbsp;</span>
        <span class="label label-success">{{record.parent == '#' ? 'Categoria padre' : record._parentObj.text}}</span>
        <div class="row">
          <div class="sp-footer">

          </div>
        </div>
      </li>
    </ul>
		<h3 ng-hide="true">Categorias</h3>
		<div ng-hide="true" class="panel panel-default" style="padding:0px;">
		  <div class="panel-body">
		  <div class="col-lg-12">
			  <div class="form-group pull-right">
			  	<button  class="custom-btn custom-btn-primary large-rounded" ng-click="agregar()"><i class="glyphicon glyphicon-plus"></i>&nbsp;Agregar</button>
			  </div>
		  </div>
		  <div class="row">
				<div class="col-lg-6">
					<div class="input-group">
					      <input type="text" class="form-control" placeholder="Buscar">
					      <span class="input-group-btn">
					        <button class="btn custom-btn-primary" type="button">Buscar</button>
					      </span>
			    	</div>
				</div>	  	
		  </div>
				 <table class="table table-hover">
					<thead>
						<th>Categoria</th>
						<th>Descripci√≥n</th>
						<th></th>
						<th></th>
					</thead>
					<tbody>
						<tr ng-repeat="record in records">
							<td>{{record.text }}</td>
							<td>{{record.data.descripcion || 'no definido'}}</td>
							<td class="text-right"><a ui-sref="dashboard.detalle_categoria({categoria: record._id})" class="custom-btn-tiny custom-btn-primary" href="#/detalle-categoria/{{record._id}}">Detalle</a></td>
							<td class="text-right"><a class="custom-btn-tiny btn-primary" ng-click="edit()"><i class="glyphicon glyphicon-edit"></i>&nbsp;Editar</a></td>
							<td class="text-right"><a ng-click="borrar()" class="custom-btn-tiny btn-danger"><i class="glyphicon glyphicon-trash">&nbsp;Borrar</i></a></td>
						</tr>
					</tbody>
				</table>
		  </div>
		  <div class="panel-footer">Listado de Categorias</div>
		</div>

	</div>
</div>
