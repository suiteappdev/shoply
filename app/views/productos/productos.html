<div ng-init="load()">
  <div class="content" ng-show="!records || records.length == 0">
    <div class="table_wrap table_height">
      <div class="row table-responsive table_inner">
          <div class="controls" ng-show="records.length == 0 && Records">
            <h4 >No hay registros para mostrar</h4>
          </div>
          <p class="text-center" ng-show="!Records">
           <img style="width:50px;" src="images/loading.svg">
          </p>
      </div>
    </div>  
  </div>
	<div  class="row" ng-show="records.length > 0">
    <ul class="sp-list"> 
      <li  ng-click="$root.grid.value = record;" choice="$root.grid.selected" value="record._id" class="sp-list-item sp-choice" dir-paginate="record in records |filter:search |itemsPerPage: 5 " pagination-id="productEntity">
        <div class="sp-item-image">
          <img preload-image default-image="images/missing-product.png" fallback-image="images/loading.svg" ng-src="{{record.data.gallery[0].URL}}">
        </div>
        <span class="sp-meta-right">Creado : {{record.createdAt | date:'yyyy-MM-dd'}}</span>
        <a class="trash" ng-click="delete()" href=""><i class="glyphicon glyphicon-trash"></i></a>
        <h4>{{record.data.producto}}<span ng-show="record._category" style="font-size: 12px;color: #a5a5a5;">&nbsp;- en&nbsp;{{record._category.text}}</span><span ng-show="!record._category" style="font-size: 12px;color: #a5a5a5;">&nbsp;- sin categoria&nbsp;</span></h4>
        <p>{{record.data.descripcion}}</p>
        <p class="sp-text">Base:&nbsp;<span class="label label-primary">{{record.data.precio | currency:"$ "}}</span>&nbsp;&nbsp;</p>
        <p class="sp-text">Precio de venta:&nbsp;<span class="label label-primary">{{record.data.precio_venta | currency:"$ "}}</span>&nbsp;&nbsp;</p>
        <span style="position: absolute;top: 4px;right: 117px;" class="label label-success">Etiquetas:&nbsp;{{record.data.tags.join(", ").toLowerCase()}}</span>
        <div class="row">
          <div class="sp-footer">

          </div>
        </div>
      </li>
    </ul>
	<div class="col-lg-12">
		<dir-pagination-controls class="pull-right" pagination-id="productEntity"></dir-pagination-controls>
	</div>
	<h3  ng-hide="true" >Productos</h3>
	<div ng-hide="true"  class="panel panel-default" style="padding:0px;">
	  <div class="panel-body">
	  <div class="col-lg-12">
		  <div class="form-group pull-right">
		  	<button ng-disabled="!$root.acl.canCreate('mnuProductos')"   class="custom-btn custom-btn-primary large-rounded" ng-click="agregar()"><i class="glyphicon glyphicon-plus"></i>&nbsp;Agregar</button>
		  </div>
	  </div>
	  <div class="row">
			<div class="col-lg-6">
				<div class="input-group">
				      <input type="text" class="form-control" ng-model="search" placeholder="Buscar">
				      <span class="input-group-btn">
				        <button class="btn custom-btn-primary" type="button">Buscar</button>
				      </span>
		    	</div>
			</div>
			<div class="col-lg-6">
				<estado-producto ng-model="estado"></estado-producto>
			</div>	  	
	  </div>
	  <div class="table-responsive">
		 <table class="table table-hover">
			<thead>
				<th>Codigo</th>
				<th>Producto</th>
				<th>Descripci√≥n</th>
				<th>Base</th>
				<th>Precio venta</th>
				<th>Categoria</th>
				<th>Estado</th>
				<th></th>
				<th></th>
			</thead>
			<tbody>
				<tr dir-paginate="record in records |filter:search |itemsPerPage: 5 " pagination-id="productEntity">
					<td>{{record.idcomposed || record.id}}</td>
					<td>{{record.data.producto}}</td>
					<td>{{record.data.descripcion || 'no definido'}}</td>
					<td>{{record.data.precio | currency:"$ "}}</td>
					<td>{{record.data.precio_venta | currency:"$ "}}</td>
					<td><span class="label label-custom">{{record._category.text || 'sin categoria'}}</span></td>
					<td>{{record.data.estado}}</td>
					<td></td>
					<td style="width:50px;" class="text-right"><button ng-disabled="!$root.acl.canView('mnuProductos')"  ui-sref="dashboard.detalle_producto({producto: record._id})" class="custom-btn-tiny btn-block custom-btn-primary" href="#/detalle-producto/{{record._id}}"><i class="glyphicon glyphicon-eye-open"></i>Detalle</button></td>
					<td style="width:50px;" class="text-right"><button ng-disabled="!$root.acl.canUpdate('mnuProductos')"   class="custom-btn-tiny btn-block btn-primary" ng-click="edit()"><i class="glyphicon glyphicon-edit"></i>Editar</button></td>
					<td style="width:50px;" class="text-right"><button ng-disabled="!$root.acl.canDelete('mnuProductos')"  ng-click="borrar()" class="custom-btn-tiny btn-block btn-danger"><i class="glyphicon glyphicon-trash"></i>Eliminar</button></td> 
				</tr>
			</tbody>
		</table>	  	
	  </div>
			<div class="row">
				<div class="col-lg-12">
					<dir-pagination-controls class="pull-right" pagination-id="productEntity"></dir-pagination-controls>
				</div>
			</div>
	  </div>
	  <div class="panel-footer">Listado de Productos</div>
	</div>

	</div>
</div>
